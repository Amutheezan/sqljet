import org.tmatesoft.build.*;

buildTime = new Date()
version = new Version('1.1.0-SNAPSHOT', buildNumber)
group = 'org.tmatesoft.sqljet'

allprojects {
	project.version = rootProject.version
	project.group = rootProject.group
	
	apply plugin : 'base'
	apply plugin : 'maven'

	configurations { maven }

	repositories {
		mavenLocal()
		mavenRepo name : 'tmatesoft', urls : [mavenPublicRepositoryURL]
	}

	uploadMaven {
		repositories {
			mavenDeployer {
				snapshotRepository(url: mavenSnapshotsRepositoryURL) {
					authentication(userName: mavenDeployerName, password: mavenDeployerPassword)
				}
			}
		}
		uploadDescriptor = true
	}
}

subprojects {
	apply plugin : 'java'
	sourceCompatibility = 1.5
	targetCompatibility = 1.5

	processResources { expand (project.properties) }
}

project(':sqljet') {
	dependencies {
		compile 'org.antlr:antlr-runtime:3.1.3'

		testCompile 'junit:junit:4.8.2'
		testCompile 'org.easymock:easymock:2.4'
		testCompile 'org.xerial:sqlite-jdbc:3.7.2'
	}
	artifacts { maven jar }
}

project(':sqljet-browser') {
	dependencies {
		compile project(':sqljet')
		compile 'org.netbeans.api:org-netbeans-swing-outline:RELEASE68'
	}
}
